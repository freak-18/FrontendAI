<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrackIt AI - Futuristic Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- External Libraries -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="h-full bg-slate-900 text-white flex antialiased overflow-hidden">

    <!-- Sidebar (Hidden by default) -->
    <aside id="sidebar" class="absolute top-0 left-0 h-full w-72 bg-slate-900/80 backdrop-blur-xl border-r border-slate-700/80 flex flex-col p-4 z-40 transform -translate-x-full transition-transform duration-300 ease-in-out">
        <div class="flex items-center justify-between px-2 pb-4 border-b border-slate-700">
            <div class="flex items-center gap-3">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-blue-500">
                    <path d="M18.364 5.63604C16.5732 3.84528 14.1166 2.75 11.5 2.75C6.79822 2.75 3 6.54822 3 11.25C3 15.9518 6.79822 19.75 11.5 19.75C14.1166 19.75 16.5732 18.6547 18.364 16.864" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                    <path d="M14 12L20 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                </svg>
                <h1 class="text-xl font-bold">CrackIt AI</h1>
            </div>
            <button id="close-sidebar-btn" class="p-1 rounded-full hover:bg-slate-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>
        <div class="py-4 space-y-2">
            <button id="new-chat-btn" class="w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold text-slate-200 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                New Chat
            </button>
            <button id="export-chat-btn" class="w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-semibold text-slate-200 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                Export Chat
            </button>
        </div>
        <div id="history-container" class="flex-grow overflow-y-auto history-container -mr-2 pr-2"></div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col relative">
        <button id="open-sidebar-btn" class="absolute top-4 left-4 z-30 p-2 bg-slate-800/50 backdrop-blur-sm rounded-full text-white hover:bg-slate-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </button>

        <div id="chat-canvas" class="flex-1 relative overflow-hidden">
            <canvas id="background-canvas"></canvas>
            
            <div id="orb" class="orb absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-500 z-10">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.364 5.63604C16.5732 3.84528 14.1166 2.75 11.5 2.75C6.79822 2.75 3 6.54822 3 11.25C3 15.9518 6.79822 19.75 11.5 19.75C14.1166 19.75 16.5732 18.6547 18.364 16.864" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M14 12L20 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>
        </div>
        
        <div class="p-4 z-20">
            <div class="max-w-2xl mx-auto p-2 bg-slate-800/50 backdrop-blur-xl border border-slate-700/80 rounded-full">
                <div class="relative flex items-center">
                    <button id="file-btn" class="p-3 text-slate-400 hover:text-blue-400 transition-colors rounded-full hover:bg-slate-700">
                         <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                    </button>
                    <input type="file" id="file-input" accept="image/*" hidden />
                    <button id="mic-btn" class="p-3 text-slate-400 hover:text-blue-400 transition-colors rounded-full hover:bg-slate-700">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
                    </button>
                    <input type="text" id="chat-input" placeholder="Ask CrackIt AI anything..." class="flex-1 w-full bg-transparent text-slate-200 placeholder-slate-500 focus:outline-none" autocomplete="off" />
                    <button id="send-btn" class="p-2 bg-blue-600 text-white rounded-full hover:bg-blue-500 transition-colors disabled:bg-slate-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </main>
    <script src="script.js"></script>
</body>
</html>
